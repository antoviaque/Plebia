= 1. Dependencies =

Install packages (Debian/Ubuntu):

    $ sudo apt-get install python-pip
    $ sudo pip install Django==1.2.5
    $ sudo easy_install South
    $ sudo apt-get install python-mechanize

Install development version of ffmpeg, with libvpx: http://ubuntuforums.org/showthread.php?t=786095

Install deluge-console and deluged 1.3.3+ (development version: http://dev.deluge-torrent.org/wiki/GitRepo )


= 2. Configuration =

Change paths:
    - in plebia/settings.py
        * DOWNLOAD_DIR
        * DELUGE_COMMAND (login/pass in ~/.config/deluge/auth)
        * FFMPEG_PATH
    - in static/stream.php
        * full_file_path
    - in webserver/apache/django.wsgi
        * path

Create database:

    $ plebia/manage.py syncdb
    $ plebia/manage.py migrate

Add cron:

    * * * * * /var/www/plebia/plebia/manage.py cron

= 2a. Development environment =

Configure apache to serve:

    ProxyPass /downloads/ !
    Alias /downloads/ "/home/antoviaque/Downloads/"
    <Directory "/home/antoviaque/Downloads">
        Options -Indexes
        AllowOverride None
    </Directory>

    ProxyPass /static/ !
    Alias /static/ "/home/antoviaque/prog/plebia/static/"
    <Directory "/home/antoviaque/prog/plebia/static/">
        Options -Indexes
        AllowOverride All
    </Directory>

    ProxyPass / http://localhost:7070/
    ProxyPassReverse / http://localhost:7070/

= 2b. Production server =

For apache, use mod-wsgi:

    $ sudo apt-get install libapache2-mod-wsgi

Add to apache config, in virtual host:

    Alias /downloads/ "/var/www/downloads/"
    <Directory "/var/www/downloads">
        Options -Indexes
        AllowOverride None
    </Directory>

    Alias /static/ "/var/www/plebia/static/"
    <Directory "/var/www/plebia/static/">
        Options -Indexes
        AllowOverride All
    </Directory>

    WSGIScriptAlias / /var/www/plebia/webserver/apache/django.wsgi

= 3. Running =

    $ deluged
    $ plebia/manage.py runserver 0.0.0.0:7070

